************* Module oraculoicms_app
oraculoicms_app\__init__.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\__init__.py:22: [C0116(missing-function-docstring), create_app] Missing function or method docstring
oraculoicms_app\__init__.py:64: [W0621(redefined-outer-name), create_app.datetimeformat] Redefining name 'datetime' from outer scope (line 20)
oraculoicms_app\__init__.py:64: [W0404(reimported), create_app.datetimeformat] Reimport 'datetime' (imported line 20)
oraculoicms_app\__init__.py:64: [C0415(import-outside-toplevel), create_app.datetimeformat] Import outside toplevel (datetime)
oraculoicms_app\__init__.py:22: [W0613(unused-argument), create_app] Unused argument 'config_object'
oraculoicms_app\__init__.py:17: [C0411(wrong-import-order), ] first party import "oraculoicms_app.blueprints.support.bp" should be placed before local imports "blueprints.admin.admin_bp", "extensions.db", "services.sheets_service.init_sheets" (...) "blueprints.auth.bp", "blueprints.nfe.bp", "blueprints.files.bp"
oraculoicms_app\__init__.py:18: [C0411(wrong-import-order), ] first party import "oraculoicms_app.blueprints.support_admin.bp" should be placed before local imports "blueprints.admin.admin_bp", "extensions.db", "services.sheets_service.init_sheets" (...) "blueprints.auth.bp", "blueprints.nfe.bp", "blueprints.files.bp"
oraculoicms_app\__init__.py:20: [C0411(wrong-import-order), ] standard import "datetime.datetime" should be placed before third party import "flask.Flask", first party imports "config.Config", "oraculoicms_app.blueprints.support.bp", "oraculoicms_app.blueprints.support_admin.bp", and local imports "blueprints.admin.admin_bp", "extensions.db", "services.sheets_service.init_sheets" (...) "blueprints.nfe.bp", "blueprints.files.bp", "blueprints.billing.bp"
************* Module oraculoicms_app.decorators
oraculoicms_app\decorators.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\decorators.py:7: [C0116(missing-function-docstring), login_required] Missing function or method docstring
oraculoicms_app\decorators.py:16: [C0116(missing-function-docstring), admin_required] Missing function or method docstring
************* Module oraculoicms_app.extensions
oraculoicms_app\extensions.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\extensions.py:17: [C0116(missing-function-docstring), init_extensions] Missing function or method docstring
oraculoicms_app\extensions.py:23: [C0116(missing-function-docstring), register_cli] Missing function or method docstring
************* Module oraculoicms_app.wsgi
oraculoicms_app\wsgi.py:1: [C0114(missing-module-docstring), ] Missing module docstring
************* Module oraculoicms_app.blueprints.auth
oraculoicms_app\blueprints\auth.py:80: [C0301(line-too-long), ] Line too long (123/100)
oraculoicms_app\blueprints\auth.py:106: [C0301(line-too-long), ] Line too long (179/100)
oraculoicms_app\blueprints\auth.py:117: [C0301(line-too-long), ] Line too long (112/100)
oraculoicms_app\blueprints\auth.py:121: [C0301(line-too-long), ] Line too long (168/100)
oraculoicms_app\blueprints\auth.py:179: [C0305(trailing-newlines), ] Trailing newlines
oraculoicms_app\blueprints\auth.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\auth.py:17: [C0116(missing-function-docstring), login] Missing function or method docstring
oraculoicms_app\blueprints\auth.py:37: [C0116(missing-function-docstring), logout] Missing function or method docstring
oraculoicms_app\blueprints\auth.py:43: [C0116(missing-function-docstring), register] Missing function or method docstring
oraculoicms_app\blueprints\auth.py:75: [C0321(multiple-statements), _human_bytes] More than one statement on a single line
oraculoicms_app\blueprints\auth.py:76: [C0321(multiple-statements), _human_bytes] More than one statement on a single line
oraculoicms_app\blueprints\auth.py:78: [W0613(unused-argument), _user_storage_bytes] Unused argument 'user_id'
oraculoicms_app\blueprints\auth.py:85: [C0116(missing-function-docstring), account] Missing function or method docstring
oraculoicms_app\blueprints\auth.py:115: [R1735(use-dict-literal), account] Consider using '{"plan_name": plan.name if plan else None, "cycle": sub.cycle if sub and getattr(sub, 'cycle', None) else None, ... }' instead of a call to 'dict'.
oraculoicms_app\blueprints\auth.py:143: [C0116(missing-function-docstring), account_update] Missing function or method docstring
oraculoicms_app\blueprints\auth.py:165: [C0116(missing-function-docstring), password_change] Missing function or method docstring
************* Module oraculoicms_app.blueprints.billing
oraculoicms_app\blueprints\billing.py:4: [C0301(line-too-long), ] Line too long (101/100)
oraculoicms_app\blueprints\billing.py:42: [C0301(line-too-long), ] Line too long (126/100)
oraculoicms_app\blueprints\billing.py:90: [C0301(line-too-long), ] Line too long (129/100)
oraculoicms_app\blueprints\billing.py:133: [C0301(line-too-long), ] Line too long (102/100)
oraculoicms_app\blueprints\billing.py:189: [C0304(missing-final-newline), ] Final newline missing
oraculoicms_app\blueprints\billing.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\billing.py:63: [C0321(multiple-statements), checkout] More than one statement on a single line
oraculoicms_app\blueprints\billing.py:90: [W0621(redefined-outer-name), portal] Redefining name 'portal' from outer scope (line 82)
oraculoicms_app\blueprints\billing.py:95: [C0116(missing-function-docstring), sucesso] Missing function or method docstring
oraculoicms_app\blueprints\billing.py:101: [C0116(missing-function-docstring), cancelado] Missing function or method docstring
oraculoicms_app\blueprints\billing.py:163: [C0116(missing-function-docstring), stripe_webhook] Missing function or method docstring
oraculoicms_app\blueprints\billing.py:170: [W0718(broad-exception-caught), stripe_webhook] Catching too general exception Exception
oraculoicms_app\blueprints\billing.py:183: [R1714(consider-using-in), stripe_webhook] Consider merging these comparisons with 'in' by using 'typ in ('invoice.payment_failed', 'customer.subscription.deleted')'. Use a set instead if elements are hashable.
oraculoicms_app\blueprints\billing.py:188: [C0321(multiple-statements), stripe_webhook] More than one statement on a single line
************* Module oraculoicms_app.blueprints.core
oraculoicms_app\blueprints\core.py:62: [C0304(missing-final-newline), ] Final newline missing
oraculoicms_app\blueprints\core.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\core.py:13: [C0116(missing-function-docstring), index] Missing function or method docstring
oraculoicms_app\blueprints\core.py:26: [C0116(missing-function-docstring), dashboard] Missing function or method docstring
oraculoicms_app\blueprints\core.py:39: [C0116(missing-function-docstring), support] Missing function or method docstring
oraculoicms_app\blueprints\core.py:44: [C0116(missing-function-docstring), leitorxml] Missing function or method docstring
oraculoicms_app\blueprints\core.py:51: [C0116(missing-function-docstring), purge_my_xmls] Missing function or method docstring
oraculoicms_app\blueprints\core.py:61: [C0116(missing-function-docstring), health] Missing function or method docstring
************* Module oraculoicms_app.blueprints.files
oraculoicms_app\blueprints\files.py:6: [C0301(line-too-long), ] Line too long (128/100)
oraculoicms_app\blueprints\files.py:57: [C0301(line-too-long), ] Line too long (107/100)
oraculoicms_app\blueprints\files.py:59: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:67: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\blueprints\files.py:94: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\files.py:105: [C0301(line-too-long), ] Line too long (101/100)
oraculoicms_app\blueprints\files.py:156: [C0325(superfluous-parens), ] Unnecessary parens after 'not' keyword
oraculoicms_app\blueprints\files.py:203: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:207: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\blueprints\files.py:210: [C0301(line-too-long), ] Line too long (108/100)
oraculoicms_app\blueprints\files.py:215: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:255: [C0301(line-too-long), ] Line too long (107/100)
oraculoicms_app\blueprints\files.py:302: [C0301(line-too-long), ] Line too long (114/100)
oraculoicms_app\blueprints\files.py:381: [C0301(line-too-long), ] Line too long (112/100)
oraculoicms_app\blueprints\files.py:390: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:394: [C0301(line-too-long), ] Line too long (139/100)
oraculoicms_app\blueprints\files.py:401: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:430: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\files.py:453: [C0301(line-too-long), ] Line too long (123/100)
oraculoicms_app\blueprints\files.py:526: [C0301(line-too-long), ] Line too long (102/100)
oraculoicms_app\blueprints\files.py:550: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\blueprints\files.py:565: [C0301(line-too-long), ] Line too long (118/100)
oraculoicms_app\blueprints\files.py:616: [C0325(superfluous-parens), ] Unnecessary parens after '=' keyword
oraculoicms_app\blueprints\files.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\files.py:4: [C0410(multiple-imports), ] Multiple imports on one line (os, hashlib, datetime, json)
oraculoicms_app\blueprints\files.py:31: [C0103(invalid-name), _compute_st_payload] Argument name "NFEXML" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:31: [R0914(too-many-locals), _compute_st_payload] Too many local variables (35/15)
oraculoicms_app\blueprints\files.py:31: [W0621(redefined-outer-name), _compute_st_payload] Redefining name 'NFEXML' from outer scope (line 16)
oraculoicms_app\blueprints\files.py:31: [W0621(redefined-outer-name), _compute_st_payload] Redefining name 'get_motor' from outer scope (line 15)
oraculoicms_app\blueprints\files.py:45: [W0718(broad-exception-caught), _compute_st_payload.fnum] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:52: [C0103(invalid-name), _compute_st_payload] Variable name "qCom" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:52: [C0321(multiple-statements), _compute_st_payload] More than one statement on a single line
oraculoicms_app\blueprints\files.py:52: [C0103(invalid-name), _compute_st_payload] Variable name "vUnCom" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:52: [C0103(invalid-name), _compute_st_payload] Variable name "vProd" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:53: [C0103(invalid-name), _compute_st_payload] Variable name "vFrete" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:53: [C0321(multiple-statements), _compute_st_payload] More than one statement on a single line
oraculoicms_app\blueprints\files.py:53: [C0103(invalid-name), _compute_st_payload] Variable name "vIPI" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:53: [C0103(invalid-name), _compute_st_payload] Variable name "vOutro" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:54: [C0103(invalid-name), _compute_st_payload] Variable name "vICMSDeson_xml" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:55: [C0103(invalid-name), _compute_st_payload] Variable name "vICMSDeson" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\files.py:119: [W0718(broad-exception-caught), _is_nfe_xml] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:109: [R0911(too-many-return-statements), _is_nfe_xml] Too many return statements (7/6)
oraculoicms_app\blueprints\files.py:109: [R0912(too-many-branches), _is_nfe_xml] Too many branches (15/12)
oraculoicms_app\blueprints\files.py:166: [W0621(redefined-outer-name), _get_quota] Redefining name 'datetime' from outer scope (line 4)
oraculoicms_app\blueprints\files.py:165: [C0321(multiple-statements), _get_quota] More than one statement on a single line
oraculoicms_app\blueprints\files.py:166: [C0415(import-outside-toplevel), _get_quota] Import outside toplevel (datetime.datetime)
oraculoicms_app\blueprints\files.py:171: [C0321(multiple-statements), _get_quota] More than one statement on a single line
oraculoicms_app\blueprints\files.py:174: [C0116(missing-function-docstring), current_user] Missing function or method docstring
oraculoicms_app\blueprints\files.py:183: [C0116(missing-function-docstring), user_upload_root] Missing function or method docstring
oraculoicms_app\blueprints\files.py:247: [C0116(missing-function-docstring), ver_calculo] Missing function or method docstring
oraculoicms_app\blueprints\files.py:260: [W0718(broad-exception-caught), ver_calculo] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:248: [W0612(unused-variable), ver_calculo] Unused variable 'uf'
oraculoicms_app\blueprints\files.py:280: [C0116(missing-function-docstring), marcar_status] Missing function or method docstring
oraculoicms_app\blueprints\files.py:286: [C0321(multiple-statements), marcar_status] More than one statement on a single line
oraculoicms_app\blueprints\files.py:292: [C0116(missing-function-docstring), toggle_incluir] Missing function or method docstring
oraculoicms_app\blueprints\files.py:295: [C0321(multiple-statements), toggle_incluir] More than one statement on a single line
oraculoicms_app\blueprints\files.py:301: [C0116(missing-function-docstring), list_files] Missing function or method docstring
oraculoicms_app\blueprints\files.py:308: [C0116(missing-function-docstring), upload_xml] Missing function or method docstring
oraculoicms_app\blueprints\files.py:308: [R0914(too-many-locals), upload_xml] Too many local variables (19/15)
oraculoicms_app\blueprints\files.py:389: [C0116(missing-function-docstring), ver_xml] Missing function or method docstring
oraculoicms_app\blueprints\files.py:400: [C0116(missing-function-docstring), preview_xml] Missing function or method docstring
oraculoicms_app\blueprints\files.py:429: [C0116(missing-function-docstring), deletar_xml] Missing function or method docstring
oraculoicms_app\blueprints\files.py:438: [W0718(broad-exception-caught), deletar_xml] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:450: [W0718(broad-exception-caught), deletar_xml] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:461: [C0116(missing-function-docstring), parse_xml] Missing function or method docstring
oraculoicms_app\blueprints\files.py:491: [W0718(broad-exception-caught), parse_xml] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:505: [W0718(broad-exception-caught), parse_xml] Catching too general exception Exception
oraculoicms_app\blueprints\files.py:487: [W0612(unused-variable), parse_xml] Unused variable 'created'
oraculoicms_app\blueprints\files.py:536: [C0116(missing-function-docstring), relatorio_nfe] Missing function or method docstring
oraculoicms_app\blueprints\files.py:536: [R0914(too-many-locals), relatorio_nfe] Too many local variables (19/15)
oraculoicms_app\blueprints\files.py:537: [C0415(import-outside-toplevel), relatorio_nfe] Import outside toplevel (sqlalchemy.func)
oraculoicms_app\blueprints\files.py:537: [W0611(unused-import), relatorio_nfe] Unused func imported from sqlalchemy
oraculoicms_app\blueprints\files.py:599: [C0116(missing-function-docstring), selecionar_totais] Missing function or method docstring
oraculoicms_app\blueprints\files.py:600: [C0321(multiple-statements), selecionar_totais] More than one statement on a single line
oraculoicms_app\blueprints\files.py:601: [C0321(multiple-statements), selecionar_totais] More than one statement on a single line
oraculoicms_app\blueprints\files.py:603: [C0415(import-outside-toplevel), selecionar_totais] Import outside toplevel (datetime.datetime)
oraculoicms_app\blueprints\files.py:18: [C0411(wrong-import-order), ] standard import "base64.b64encode" should be placed before third party imports "flask.Blueprint", "werkzeug.utils.secure_filename" and first party imports "oraculoicms_app.blueprints.nfe_indexer.upsert_summary_from_xml", "oraculoicms_app.decorators.login_required", "oraculoicms_app.extensions.db" (...) "oraculoicms_app.services.calc_service.get_motor", "xml_parser.NFEXML", "oraculoicms_app.models.user_quota.UserQuota" 
oraculoicms_app\blueprints\files.py:19: [C0411(wrong-import-order), ] standard import "xml.etree.ElementTree" should be placed before third party imports "flask.Blueprint", "werkzeug.utils.secure_filename" and first party imports "oraculoicms_app.blueprints.nfe_indexer.upsert_summary_from_xml", "oraculoicms_app.decorators.login_required", "oraculoicms_app.extensions.db" (...) "oraculoicms_app.services.calc_service.get_motor", "xml_parser.NFEXML", "oraculoicms_app.models.user_quota.UserQuota" 
oraculoicms_app\blueprints\files.py:17: [C0412(ungrouped-imports), ] Imports from package oraculoicms_app are not grouped
************* Module oraculoicms_app.blueprints.nfe
oraculoicms_app\blueprints\nfe.py:5: [C0301(line-too-long), ] Line too long (111/100)
oraculoicms_app\blueprints\nfe.py:59: [C0301(line-too-long), ] Line too long (102/100)
oraculoicms_app\blueprints\nfe.py:96: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\nfe.py:107: [C0301(line-too-long), ] Line too long (101/100)
oraculoicms_app\blueprints\nfe.py:294: [C0301(line-too-long), ] Line too long (112/100)
oraculoicms_app\blueprints\nfe.py:303: [C0301(line-too-long), ] Line too long (110/100)
oraculoicms_app\blueprints\nfe.py:333: [C0301(line-too-long), ] Line too long (122/100)
oraculoicms_app\blueprints\nfe.py:335: [C0301(line-too-long), ] Line too long (119/100)
oraculoicms_app\blueprints\nfe.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\nfe.py:4: [C0410(multiple-imports), ] Multiple imports on one line (io, json, base64, datetime)
oraculoicms_app\blueprints\nfe.py:39: [C0103(invalid-name), _compute_st_payload] Argument name "NFEXML" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:39: [R0914(too-many-locals), _compute_st_payload] Too many local variables (34/15)
oraculoicms_app\blueprints\nfe.py:39: [W0621(redefined-outer-name), _compute_st_payload] Redefining name 'NFEXML' from outer scope (line 10)
oraculoicms_app\blueprints\nfe.py:39: [W0621(redefined-outer-name), _compute_st_payload] Redefining name 'get_motor' from outer scope (line 8)
oraculoicms_app\blueprints\nfe.py:55: [W0702(bare-except), _compute_st_payload.f] No exception type(s) specified
oraculoicms_app\blueprints\nfe.py:54: [C0321(multiple-statements), _compute_st_payload.f] More than one statement on a single line
oraculoicms_app\blueprints\nfe.py:55: [C0321(multiple-statements), _compute_st_payload.f] More than one statement on a single line
oraculoicms_app\blueprints\nfe.py:56: [C0103(invalid-name), _compute_st_payload] Variable name "qCom" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:56: [C0321(multiple-statements), _compute_st_payload] More than one statement on a single line
oraculoicms_app\blueprints\nfe.py:56: [C0103(invalid-name), _compute_st_payload] Variable name "vUnCom" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:56: [C0103(invalid-name), _compute_st_payload] Variable name "vProd" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:57: [C0103(invalid-name), _compute_st_payload] Variable name "vFrete" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:57: [C0321(multiple-statements), _compute_st_payload] More than one statement on a single line
oraculoicms_app\blueprints\nfe.py:57: [C0103(invalid-name), _compute_st_payload] Variable name "vIPI" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:57: [C0103(invalid-name), _compute_st_payload] Variable name "vOutro" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:58: [C0103(invalid-name), _compute_st_payload] Variable name "vICMSDeson" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe.py:39: [W0613(unused-argument), _compute_st_payload] Unused argument 'get_motor'
oraculoicms_app\blueprints\nfe.py:111: [C0116(missing-function-docstring), allowed] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:126: [W0718(broad-exception-caught), _xml_from_request] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:133: [W0718(broad-exception-caught), _xml_from_request] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:141: [C0116(missing-function-docstring), preview] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:166: [C0116(missing-function-docstring), calcular] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:172: [W0621(redefined-outer-name), calcular] Redefining name 'datetime' from outer scope (line 4)
oraculoicms_app\blueprints\nfe.py:172: [W0404(reimported), calcular] Reimport 'datetime' (imported line 4)
oraculoicms_app\blueprints\nfe.py:172: [W0404(reimported), calcular] Reimport 'json' (imported line 4)
oraculoicms_app\blueprints\nfe.py:172: [C0415(import-outside-toplevel), calcular] Import outside toplevel (hashlib, datetime, json)
oraculoicms_app\blueprints\nfe.py:172: [C0410(multiple-imports), calcular] Multiple imports on one line (hashlib, datetime, json)
oraculoicms_app\blueprints\nfe.py:187: [W0718(broad-exception-caught), calcular] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:209: [C0321(multiple-statements), calcular] More than one statement on a single line
oraculoicms_app\blueprints\nfe.py:222: [C0116(missing-function-docstring), exportar_pdf] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:234: [W0718(broad-exception-caught), exportar_pdf] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:240: [E1123(unexpected-keyword-arg), exportar_pdf] Unexpected keyword argument 'valor_produto' in constructor call
oraculoicms_app\blueprints\nfe.py:240: [E1123(unexpected-keyword-arg), exportar_pdf] Unexpected keyword argument 'frete_rateado' in constructor call
oraculoicms_app\blueprints\nfe.py:267: [C0116(missing-function-docstring), run_update] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:277: [C0116(missing-function-docstring), admin_reload] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:285: [C0116(missing-function-docstring), config_view] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:289: [C0415(import-outside-toplevel), config_view] Import outside toplevel (pandas)
oraculoicms_app\blueprints\nfe.py:297: [W0718(broad-exception-caught), config_view] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:313: [C0116(missing-function-docstring), config_save] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:329: [C0415(import-outside-toplevel), config_save] Import outside toplevel (pandas)
oraculoicms_app\blueprints\nfe.py:342: [W0718(broad-exception-caught), config_save] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:349: [C0116(missing-function-docstring), debug_sheets] Missing function or method docstring
oraculoicms_app\blueprints\nfe.py:359: [W0718(broad-exception-caught), debug_sheets] Catching too general exception Exception
oraculoicms_app\blueprints\nfe.py:13: [C0411(wrong-import-order), ] standard import "base64.b64decode" should be placed before third party import "flask.Blueprint" and first party imports "oraculoicms_app.decorators.login_required", "oraculoicms_app.services.sheets_service.get_sheet_client", "oraculoicms_app.services.calc_service.get_motor" (...) "xml_parser.NFEXML", "report.gerar_pdf", "calc.ItemNF" 
oraculoicms_app\blueprints\nfe.py:17: [C0411(wrong-import-order), ] standard import "datetime.datetime" should be placed before third party import "flask.Blueprint", first party imports "oraculoicms_app.decorators.login_required", "oraculoicms_app.services.sheets_service.get_sheet_client", "oraculoicms_app.services.calc_service.get_motor" (...) "calc.ItemNF", "oraculoicms_app.extensions.db", "oraculoicms_app.models.file.NFESummary", and local import "files.current_user"
oraculoicms_app\blueprints\nfe.py:14: [C0412(ungrouped-imports), ] Imports from package oraculoicms_app are not grouped
************* Module oraculoicms_app.blueprints.nfe_indexer
oraculoicms_app\blueprints\nfe_indexer.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\nfe_indexer.py:13: [W0718(broad-exception-caught), _parse_emissao_iso] Catching too general exception Exception
oraculoicms_app\blueprints\nfe_indexer.py:16: [C0103(invalid-name), upsert_summary_from_xml] Argument name "NFEXML" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe_indexer.py:16: [C0103(invalid-name), upsert_summary_from_xml] Argument name "NFESummary" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe_indexer.py:16: [C0103(invalid-name), upsert_summary_from_xml] Argument name "UserFile" doesn't conform to snake_case naming style
oraculoicms_app\blueprints\nfe_indexer.py:16: [R0913(too-many-arguments), upsert_summary_from_xml] Too many arguments (7/5)
oraculoicms_app\blueprints\nfe_indexer.py:16: [R0917(too-many-positional-arguments), upsert_summary_from_xml] Too many positional arguments (7/5)
oraculoicms_app\blueprints\nfe_indexer.py:69: [W0702(bare-except), upsert_summary_from_xml.f] No exception type(s) specified
oraculoicms_app\blueprints\nfe_indexer.py:68: [C0321(multiple-statements), upsert_summary_from_xml.f] More than one statement on a single line
oraculoicms_app\blueprints\nfe_indexer.py:69: [C0321(multiple-statements), upsert_summary_from_xml.f] More than one statement on a single line
************* Module oraculoicms_app.blueprints.support
oraculoicms_app\blueprints\support.py:4: [C0301(line-too-long), ] Line too long (132/100)
oraculoicms_app\blueprints\support.py:14: [C0301(line-too-long), ] Line too long (120/100)
oraculoicms_app\blueprints\support.py:17: [C0301(line-too-long), ] Line too long (132/100)
oraculoicms_app\blueprints\support.py:20: [C0301(line-too-long), ] Line too long (146/100)
oraculoicms_app\blueprints\support.py:26: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\support.py:29: [C0301(line-too-long), ] Line too long (128/100)
oraculoicms_app\blueprints\support.py:40: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\blueprints\support.py:52: [C0301(line-too-long), ] Line too long (107/100)
oraculoicms_app\blueprints\support.py:70: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\blueprints\support.py:79: [C0325(superfluous-parens), ] Unnecessary parens after 'not' keyword
oraculoicms_app\blueprints\support.py:84: [C0301(line-too-long), ] Line too long (119/100)
oraculoicms_app\blueprints\support.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\support.py:12: [C0116(missing-function-docstring), help_center] Missing function or method docstring
oraculoicms_app\blueprints\support.py:33: [C0116(missing-function-docstring), send_feedback] Missing function or method docstring
oraculoicms_app\blueprints\support.py:38: [C0321(multiple-statements), send_feedback] More than one statement on a single line
oraculoicms_app\blueprints\support.py:40: [C0321(multiple-statements), send_feedback] More than one statement on a single line
oraculoicms_app\blueprints\support.py:43: [C0321(multiple-statements), send_feedback] More than one statement on a single line
oraculoicms_app\blueprints\support.py:49: [C0116(missing-function-docstring), survey_start] Missing function or method docstring
oraculoicms_app\blueprints\support.py:52: [C0321(multiple-statements), survey_start] More than one statement on a single line
oraculoicms_app\blueprints\support.py:62: [C0116(missing-function-docstring), survey_submit] Missing function or method docstring
oraculoicms_app\blueprints\support.py:66: [C0321(multiple-statements), survey_submit] More than one statement on a single line
oraculoicms_app\blueprints\support.py:70: [C0321(multiple-statements), survey_submit] More than one statement on a single line
oraculoicms_app\blueprints\support.py:73: [C0321(multiple-statements), survey_submit] More than one statement on a single line
oraculoicms_app\blueprints\support.py:1: [W0611(unused-import), ] Unused jsonify imported from flask
oraculoicms_app\blueprints\support.py:4: [W0611(unused-import), ] Unused SurveyQuestion imported from models.support
oraculoicms_app\blueprints\support.py:5: [W0611(unused-import), ] Unused User imported from models.user
************* Module oraculoicms_app.blueprints.support_admin
oraculoicms_app\blueprints\support_admin.py:2: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\blueprints\support_admin.py:4: [C0301(line-too-long), ] Line too long (132/100)
oraculoicms_app\blueprints\support_admin.py:27: [C0301(line-too-long), ] Line too long (107/100)
oraculoicms_app\blueprints\support_admin.py:81: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\blueprints\support_admin.py:255: [C0304(missing-final-newline), ] Final newline missing
oraculoicms_app\blueprints\support_admin.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\support_admin.py:15: [R1710(inconsistent-return-statements), _guard] Either all return statements in a function should return an expression, or none of them should.
oraculoicms_app\blueprints\support_admin.py:22: [C0116(missing-function-docstring), dashboard] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:23: [W0612(unused-variable), dashboard] Unused variable 'g'
oraculoicms_app\blueprints\support_admin.py:32: [C0116(missing-function-docstring), kb_list] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:39: [C0116(missing-function-docstring), kb_new] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:49: [C0321(multiple-statements), kb_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:50: [C0321(multiple-statements), kb_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:55: [C0116(missing-function-docstring), kb_edit] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:55: [W0622(redefined-builtin), kb_edit] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:64: [C0321(multiple-statements), kb_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:65: [C0321(multiple-statements), kb_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:70: [C0116(missing-function-docstring), kb_delete] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:70: [W0622(redefined-builtin), kb_delete] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:73: [C0321(multiple-statements), kb_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:74: [C0321(multiple-statements), kb_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:79: [C0116(missing-function-docstring), vid_list] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:86: [C0116(missing-function-docstring), vid_new] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:95: [C0321(multiple-statements), vid_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:96: [C0321(multiple-statements), vid_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:101: [C0116(missing-function-docstring), vid_edit] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:101: [W0622(redefined-builtin), vid_edit] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:109: [C0321(multiple-statements), vid_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:110: [C0321(multiple-statements), vid_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:115: [C0116(missing-function-docstring), vid_delete] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:115: [W0622(redefined-builtin), vid_delete] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:118: [C0321(multiple-statements), vid_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:119: [C0321(multiple-statements), vid_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:124: [C0116(missing-function-docstring), camp_list] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:131: [C0116(missing-function-docstring), camp_new] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:141: [C0321(multiple-statements), camp_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:142: [C0321(multiple-statements), camp_new] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:147: [C0116(missing-function-docstring), camp_edit] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:147: [W0622(redefined-builtin), camp_edit] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:156: [C0321(multiple-statements), camp_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:157: [C0321(multiple-statements), camp_edit] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:162: [C0116(missing-function-docstring), camp_delete] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:162: [W0622(redefined-builtin), camp_delete] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:165: [C0321(multiple-statements), camp_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:166: [C0321(multiple-statements), camp_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:170: [C0116(missing-function-docstring), camp_questions] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:170: [W0622(redefined-builtin), camp_questions] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:180: [C0321(multiple-statements), camp_questions] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:186: [C0116(missing-function-docstring), question_delete] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:186: [W0622(redefined-builtin), question_delete] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:190: [C0321(multiple-statements), question_delete] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:197: [C0116(missing-function-docstring), camp_report] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:197: [W0622(redefined-builtin), camp_report] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:218: [C0116(missing-function-docstring), fb_list] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:229: [C0116(missing-function-docstring), fb_set_status] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:229: [W0622(redefined-builtin), fb_set_status] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:233: [C0321(multiple-statements), fb_set_status] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:239: [C0321(multiple-statements), fb_set_status] More than one statement on a single line
oraculoicms_app\blueprints\support_admin.py:245: [C0116(missing-function-docstring), fb_toggle_feature] Missing function or method docstring
oraculoicms_app\blueprints\support_admin.py:245: [W0622(redefined-builtin), fb_toggle_feature] Redefining built-in 'id'
oraculoicms_app\blueprints\support_admin.py:6: [C0411(wrong-import-order), ] standard import "datetime.datetime" should be placed before third party import "flask.Blueprint" and local imports "decorators.login_required", "extensions.db", "models.support.KBArticle", "blueprints.files.current_user"
************* Module oraculoicms_app.blueprints.admin.routes
oraculoicms_app\blueprints\admin\routes.py:21: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\admin\routes.py:63: [C0301(line-too-long), ] Line too long (114/100)
oraculoicms_app\blueprints\admin\routes.py:264: [C0325(superfluous-parens), ] Unnecessary parens after '=' keyword
oraculoicms_app\blueprints\admin\routes.py:304: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\admin\routes.py:415: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\admin\routes.py:432: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\blueprints\admin\routes.py:435: [C0301(line-too-long), ] Line too long (104/100)
oraculoicms_app\blueprints\admin\routes.py:442: [C0301(line-too-long), ] Line too long (110/100)
oraculoicms_app\blueprints\admin\routes.py:456: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\admin\routes.py:489: [C0301(line-too-long), ] Line too long (101/100)
oraculoicms_app\blueprints\admin\routes.py:493: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\blueprints\admin\routes.py:510: [C0301(line-too-long), ] Line too long (120/100)
oraculoicms_app\blueprints\admin\routes.py:514: [C0301(line-too-long), ] Line too long (110/100)
oraculoicms_app\blueprints\admin\routes.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\admin\routes.py:12: [C0410(multiple-imports), ] Multiple imports on one line (os, platform, socket, time)
oraculoicms_app\blueprints\admin\routes.py:39: [W0621(redefined-outer-name), _system_snapshot] Redefining name 'db' from outer scope (line 8)
oraculoicms_app\blueprints\admin\routes.py:42: [W0718(broad-exception-caught), _system_snapshot] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:39: [C0415(import-outside-toplevel), _system_snapshot] Import outside toplevel (extensions.db)
oraculoicms_app\blueprints\admin\routes.py:54: [W0718(broad-exception-caught), _system_snapshot] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:65: [W0718(broad-exception-caught), _system_snapshot] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:69: [R1735(use-dict-literal), _system_snapshot] Consider using '{"name": 'Postgres', "ok": pg_ok, "detail": pg_detail}' instead of a call to 'dict'.
oraculoicms_app\blueprints\admin\routes.py:70: [R1735(use-dict-literal), _system_snapshot] Consider using '{"name": 'Stripe', "ok": st_ok, "detail": st_detail}' instead of a call to 'dict'.
oraculoicms_app\blueprints\admin\routes.py:71: [R1735(use-dict-literal), _system_snapshot] Consider using '{"name": 'Google Sheets', "ok": gs_ok, "detail": gs_detail}' instead of a call to 'dict'.
oraculoicms_app\blueprints\admin\routes.py:75: [R1735(use-dict-literal), _system_snapshot] Consider using '{"hostname": socket.gethostname(), "os": f'{platform.system()} {platform.release()}', ... }' instead of a call to 'dict'.
oraculoicms_app\blueprints\admin\routes.py:106: [W0718(broad-exception-caught), _config_snapshot] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:120: [C0116(missing-function-docstring), admin] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:165: [C0116(missing-function-docstring), admin_env_update] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:187: [C0116(missing-function-docstring), admin_users_create] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:204: [C0321(multiple-statements), admin_users_create] More than one statement on a single line
oraculoicms_app\blueprints\admin\routes.py:210: [C0116(missing-function-docstring), admin_users_update] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:235: [C0116(missing-function-docstring), admin_plans_create] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:259: [C0116(missing-function-docstring), admin_plans_update] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:291: [C0116(missing-function-docstring), admin_settings_update] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:302: [C0116(missing-function-docstring), admin_payments] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:319: [W0718(broad-exception-caught), admin_payments] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:364: [C0116(missing-function-docstring), admin_payment_validate] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:364: [R0914(too-many-locals), admin_payment_validate] Too many local variables (20/15)
oraculoicms_app\blueprints\admin\routes.py:446: [W0621(redefined-outer-name), admin_payment_validate] Redefining name 'datetime' from outer scope (line 14)
oraculoicms_app\blueprints\admin\routes.py:455: [W0621(redefined-outer-name), admin_payment_validate] Redefining name 'Decimal' from outer scope (line 4)
oraculoicms_app\blueprints\admin\routes.py:383: [W0718(broad-exception-caught), admin_payment_validate] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:399: [W0718(broad-exception-caught), admin_payment_validate] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:417: [W0718(broad-exception-caught), admin_payment_validate] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:446: [W0404(reimported), admin_payment_validate] Reimport 'datetime' (imported line 14)
oraculoicms_app\blueprints\admin\routes.py:446: [C0415(import-outside-toplevel), admin_payment_validate] Import outside toplevel (datetime.datetime)
oraculoicms_app\blueprints\admin\routes.py:455: [W0404(reimported), admin_payment_validate] Reimport 'Decimal' (imported line 4)
oraculoicms_app\blueprints\admin\routes.py:455: [C0415(import-outside-toplevel), admin_payment_validate] Import outside toplevel (decimal.Decimal)
oraculoicms_app\blueprints\admin\routes.py:364: [R0912(too-many-branches), admin_payment_validate] Too many branches (16/12)
oraculoicms_app\blueprints\admin\routes.py:364: [R0915(too-many-statements), admin_payment_validate] Too many statements (68/50)
oraculoicms_app\blueprints\admin\routes.py:407: [W0612(unused-variable), admin_payment_validate] Unused variable 'product_name'
oraculoicms_app\blueprints\admin\routes.py:483: [C0116(missing-function-docstring), admin_payment_refund] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:499: [W0718(broad-exception-caught), admin_payment_refund] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:506: [C0116(missing-function-docstring), admin_subscription_cancel] Missing function or method docstring
oraculoicms_app\blueprints\admin\routes.py:517: [W0718(broad-exception-caught), admin_subscription_cancel] Catching too general exception Exception
oraculoicms_app\blueprints\admin\routes.py:510: [W0106(expression-not-assigned), admin_subscription_cancel] Expression "s.Subscription.delete(sub_id) if not at_period_end else s.Subscription.modify(sub_id, cancel_at_period_end=True)" is assigned to nothing
oraculoicms_app\blueprints\admin\routes.py:515: [C0321(multiple-statements), admin_subscription_cancel] More than one statement on a single line
oraculoicms_app\blueprints\admin\routes.py:12: [C0411(wrong-import-order), ] standard import "os" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:12: [C0411(wrong-import-order), ] standard import "platform" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:12: [C0411(wrong-import-order), ] standard import "socket" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:12: [C0411(wrong-import-order), ] standard import "time" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:13: [C0411(wrong-import-order), ] standard import "pathlib.Path" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:14: [C0411(wrong-import-order), ] standard import "datetime.datetime" should be placed before third party import "flask.render_template" and local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:15: [C0411(wrong-import-order), ] third party import "stripe" should be placed before local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:16: [C0411(wrong-import-order), ] third party import "sqlalchemy.text" should be placed before local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:17: [C0411(wrong-import-order), ] third party import "dotenv.dotenv_values" should be placed before local imports "admin.admin_bp", "decorators.admin_required", "extensions.db", "models.User", "services.settings.get_setting"
oraculoicms_app\blueprints\admin\routes.py:5: [W0611(unused-import), ] Unused session imported from flask
oraculoicms_app\blueprints\admin\routes.py:10: [W0611(unused-import), ] Unused get_setting imported from services.settings
oraculoicms_app\blueprints\admin\routes.py:14: [W0611(unused-import), ] Unused datetime imported from datetime
************* Module oraculoicms_app.blueprints.admin
oraculoicms_app\blueprints\admin\__init__.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\blueprints\admin\__init__.py:9: [C0413(wrong-import-position), ] Import "from . import routes" should be placed at the top of the module
************* Module oraculoicms_app.models.file
oraculoicms_app\models\file.py:24: [C0301(line-too-long), ] Line too long (101/100)
oraculoicms_app\models\file.py:26: [C0301(line-too-long), ] Line too long (112/100)
oraculoicms_app\models\file.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\file.py:7: [C0115(missing-class-docstring), UserFile] Missing class docstring
oraculoicms_app\models\file.py:7: [R0903(too-few-public-methods), UserFile] Too few public methods (0/2)
oraculoicms_app\models\file.py:21: [C0115(missing-class-docstring), NFESummary] Missing class docstring
oraculoicms_app\models\file.py:21: [R0903(too-few-public-methods), NFESummary] Too few public methods (0/2)
oraculoicms_app\models\file.py:53: [C0115(missing-class-docstring), AuditLog] Missing class docstring
oraculoicms_app\models\file.py:53: [R0903(too-few-public-methods), AuditLog] Too few public methods (0/2)
************* Module oraculoicms_app.models.payment
oraculoicms_app\models\payment.py:13: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\models\payment.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\payment.py:7: [C0115(missing-class-docstring), Payment] Missing class docstring
oraculoicms_app\models\payment.py:7: [R0903(too-few-public-methods), Payment] Too few public methods (0/2)
************* Module oraculoicms_app.models.payment_config
oraculoicms_app\models\payment_config.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\payment_config.py:5: [C0115(missing-class-docstring), PaymentConfig] Missing class docstring
oraculoicms_app\models\payment_config.py:5: [R0903(too-few-public-methods), PaymentConfig] Too few public methods (0/2)
************* Module oraculoicms_app.models.plan
oraculoicms_app\models\plan.py:46: [C0301(line-too-long), ] Line too long (119/100)
oraculoicms_app\models\plan.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\plan.py:6: [C0115(missing-class-docstring), Plan] Missing class docstring
oraculoicms_app\models\plan.py:6: [R0903(too-few-public-methods), Plan] Too few public methods (0/2)
oraculoicms_app\models\plan.py:40: [C0115(missing-class-docstring), Subscription] Missing class docstring
oraculoicms_app\models\plan.py:40: [R0903(too-few-public-methods), Subscription] Too few public methods (0/2)
oraculoicms_app\models\plan.py:66: [C0115(missing-class-docstring), Invoice] Missing class docstring
oraculoicms_app\models\plan.py:66: [R0903(too-few-public-methods), Invoice] Too few public methods (0/2)
oraculoicms_app\models\plan.py:3: [W0611(unused-import), ] Unused timedelta imported from datetime
************* Module oraculoicms_app.models.setting
oraculoicms_app\models\setting.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\setting.py:7: [C0115(missing-class-docstring), Setting] Missing class docstring
oraculoicms_app\models\setting.py:7: [R0903(too-few-public-methods), Setting] Too few public methods (0/2)
************* Module oraculoicms_app.models.support
oraculoicms_app\models\support.py:10: [C0301(line-too-long), ] Line too long (111/100)
oraculoicms_app\models\support.py:31: [C0301(line-too-long), ] Line too long (106/100)
oraculoicms_app\models\support.py:60: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\models\support.py:64: [C0301(line-too-long), ] Line too long (143/100)
oraculoicms_app\models\support.py:69: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\models\support.py:79: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\models\support.py:80: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\models\support.py:83: [C0301(line-too-long), ] Line too long (108/100)
oraculoicms_app\models\support.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\support.py:6: [C0115(missing-class-docstring), KBArticle] Missing class docstring
oraculoicms_app\models\support.py:6: [R0903(too-few-public-methods), KBArticle] Too few public methods (0/2)
oraculoicms_app\models\support.py:17: [C0115(missing-class-docstring), VideoTutorial] Missing class docstring
oraculoicms_app\models\support.py:17: [R0903(too-few-public-methods), VideoTutorial] Too few public methods (0/2)
oraculoicms_app\models\support.py:27: [C0115(missing-class-docstring), FeedbackMessage] Missing class docstring
oraculoicms_app\models\support.py:27: [R0903(too-few-public-methods), FeedbackMessage] Too few public methods (0/2)
oraculoicms_app\models\support.py:41: [C0115(missing-class-docstring), SurveyCampaign] Missing class docstring
oraculoicms_app\models\support.py:51: [C0116(missing-function-docstring), SurveyCampaign.is_open] Missing function or method docstring
oraculoicms_app\models\support.py:53: [C0321(multiple-statements), SurveyCampaign.is_open] More than one statement on a single line
oraculoicms_app\models\support.py:54: [C0321(multiple-statements), SurveyCampaign.is_open] More than one statement on a single line
oraculoicms_app\models\support.py:41: [R0903(too-few-public-methods), SurveyCampaign] Too few public methods (1/2)
oraculoicms_app\models\support.py:57: [C0115(missing-class-docstring), SurveyQuestion] Missing class docstring
oraculoicms_app\models\support.py:57: [R0903(too-few-public-methods), SurveyQuestion] Too few public methods (0/2)
oraculoicms_app\models\support.py:66: [C0115(missing-class-docstring), SurveyResponse] Missing class docstring
oraculoicms_app\models\support.py:66: [R0903(too-few-public-methods), SurveyResponse] Too few public methods (0/2)
oraculoicms_app\models\support.py:76: [C0115(missing-class-docstring), SurveyAnswer] Missing class docstring
oraculoicms_app\models\support.py:76: [R0903(too-few-public-methods), SurveyAnswer] Too few public methods (0/2)
************* Module oraculoicms_app.models.user
oraculoicms_app\models\user.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\user.py:7: [C0115(missing-class-docstring), User] Missing class docstring
oraculoicms_app\models\user.py:22: [C0116(missing-function-docstring), User.set_password] Missing function or method docstring
oraculoicms_app\models\user.py:25: [C0116(missing-function-docstring), User.check_password] Missing function or method docstring
************* Module oraculoicms_app.models.user_quota
oraculoicms_app\models\user_quota.py:10: [C0301(line-too-long), ] Line too long (103/100)
oraculoicms_app\models\user_quota.py:12: [C0301(line-too-long), ] Line too long (108/100)
oraculoicms_app\models\user_quota.py:13: [C0301(line-too-long), ] Line too long (105/100)
oraculoicms_app\models\user_quota.py:17: [C0301(line-too-long), ] Line too long (125/100)
oraculoicms_app\models\user_quota.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\models\user_quota.py:6: [C0115(missing-class-docstring), UserQuota] Missing class docstring
oraculoicms_app\models\user_quota.py:6: [R0903(too-few-public-methods), UserQuota] Too few public methods (0/2)
************* Module oraculoicms_app.models.__init__
oraculoicms_app\models\__init__.py:10: [C0301(line-too-long), ] Line too long (118/100)
************* Module oraculoicms_app.models
oraculoicms_app\models\__init__.py:1: [C0114(missing-module-docstring), ] Missing module docstring
************* Module oraculoicms_app.services.calc_service
oraculoicms_app\services\calc_service.py:1: [C0114(missing-module-docstring), ] Missing module docstring
************* Module oraculoicms_app.services.settings
oraculoicms_app\services\settings.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\services\settings.py:7: [C0116(missing-function-docstring), get_setting] Missing function or method docstring
oraculoicms_app\services\settings.py:11: [C0116(missing-function-docstring), set_setting] Missing function or method docstring
************* Module oraculoicms_app.services.sheets_service
oraculoicms_app\services\sheets_service.py:1: [C0114(missing-module-docstring), ] Missing module docstring
oraculoicms_app\services\sheets_service.py:29: [W0621(redefined-outer-name), init_sheets] Redefining name 'SheetClient' from outer scope (line 5)
oraculoicms_app\services\sheets_service.py:29: [W0404(reimported), init_sheets] Reimport 'SheetClient' (imported line 5)
oraculoicms_app\services\sheets_service.py:29: [C0415(import-outside-toplevel), init_sheets] Import outside toplevel (sheets.SheetClient)
oraculoicms_app\services\sheets_service.py:48: [C0116(missing-function-docstring), get_sheet_client] Missing function or method docstring
oraculoicms_app\services\sheets_service.py:53: [C0116(missing-function-docstring), get_matrices] Missing function or method docstring
oraculoicms_app\services\sheets_service.py:5: [W0611(unused-import), ] Unused SheetClient imported from sheets
************* Module oraculoicms_app.services.__init__
oraculoicms_app\services\__init__.py:1: [R0801(duplicate-code), ] Similar lines in 2 files
==oraculoicms_app.blueprints.files:[69:115]
==oraculoicms_app.blueprints.nfe:[71:111]
        linhas.append({
            "idx": it.nItem, "cProd": it.cProd, "xProd": it.xProd,
            "ncm": it.ncm, "cst": it.cst, "cfop": it.cfop,
            "qCom": qCom, "vUnCom": vUnCom, "vProd": vProd,
            "vFrete": vFrete, "vIPI": vIPI, "vOutro": vOutro,
            "vICMSDeson": vICMSDeson,
            "venda_desc_icms": venda_desc_icms,
            "valor_oper": valor_oper,
            "mva_tipo": m.get("mva_tipo", "MVA Padro"),
            "mva_percent": mva_percent,
            "valor_agregado": valor_agregado,
            "base_st": base_st,
            "aliq_st": aliq_st,
            "icms_teorico_dest": icms_teorico_dest,
            "icms_origem_calc": icms_origem_calc,
            "icms_st": icms_st,
            "saldo_devedor": saldo_devedor,
            "mult_sefaz": mult_sefaz,
            "icms_retido": icms_retido,

            # aliases usados nos templates
            "valor_operacao": valor_oper,
            "mva_percentual": mva_percent,
            "multiplicador": mult_sefaz,
            "quant": qCom, "vun": vUnCom, "vprod": vProd, "frete": vFrete, "ipi": vIPI, "vout": vOutro,
            "icms_deson": vICMSDeson,
            "base_calculo_st": base_st,
            "aliquota_icms_st": aliq_st,
            "valor_icms_st": icms_st,
            "valor_saldo_devedor": saldo_devedor,
            "multiplicador_sefaz": mult_sefaz,
            "valor_icms_retido": icms_retido,
        })
        total_st += float(r.icms_st_devido or 0.0)

    return {"uf_origem": uf_origem, "uf_destino": uf_destino, "linhas": linhas, "total_st": total_st}
# 


def _is_nfe_xml(xml_bytes: bytes) -> tuple[bool, str]:
    """
    Validaes rpidas:
    - XML parsevel
    - Root <NFe> ou <nfeProc> contendo <NFe>
    - Presena de <infNFe Id="..."> e de campos da seo <ide> (nNF/serie/UF etc.)
    """
oraculoicms_app\services\__init__.py:1: [R0801(duplicate-code), ] Similar lines in 2 files
==oraculoicms_app.blueprints.files:[31:38]
==oraculoicms_app.blueprints.nfe:[39:46]
    nfe = NFEXML(xml_bytes)
    header = nfe.header() or {}
    itens  = nfe.itens() or []

    uf_origem  = (header.get("uf_origem")  or "SP").upper()
    uf_destino = (header.get("uf_destino") or "AM").upper()

oraculoicms_app\services\__init__.py:1: [R0401(cyclic-import), ] Cyclic import (oraculoicms_app.blueprints.admin -> oraculoicms_app.blueprints.admin.routes)
oraculoicms_app\services\__init__.py:1: [R0401(cyclic-import), ] Cyclic import (oraculoicms_app -> oraculoicms_app.blueprints.auth)

-----------------------------------
Your code has been rated at 7.65/10

